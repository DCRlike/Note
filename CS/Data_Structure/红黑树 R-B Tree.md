# 红黑树

## 1.红黑树简介

## 2.红黑树特性

### 2.1 红黑树的定义

```cpp
struct Node{
    enum Color={Black,Red};
    Node left,right;
    int value;    
}
```

红黑树是一个二叉搜索树，但是在每个节点添加一个颜色属性
它满足以下特性

1. 节点是红色或者黑色
2. 叶子节点都是黑色,而且是NULL
3. 红色节点的父节点，子节点都是黑色
4. 从根节点到叶子节点上的所有路径不能有两个连续的红色节点
5. 从任意节点到叶子节点的所有路径上，黑色节点数量相同

## 3.红黑树的效率

红黑树的查找，插入和删除操作，时间复杂度都是 $O(logN)$

## 4.红黑树的等价变换

将红黑树每一个黑节点与其红子节点合并，就是一棵B树

**此时黑色节点数就是B树的节点数**

而且红黑树的最大深度为其所对应的B树的两倍

![红黑树](https://i-blog.csdnimg.cn/blog_migrate/a2cca1c6ade567025e1934ffb9dcad32.png)
![合并后](https://i-blog.csdnimg.cn/blog_migrate/a46d00faaeb927f9df6aa18bd84371b9.png)

## 5.红黑树的操作

### 5.1旋转

- 左旋

  将某节点旋转为其右子节点的左子节点

  将右子节点的左子节点作为此节点的右子节点

- 右旋
  
  将某节点旋转为其左子节点的右子节点

  将左子节点的右子节点作为此节点的左子节点
  ![右旋](https://i-blog.csdnimg.cn/blog_migrate/4977abaa0077754b0e8687bec218c648.jpeg)

### 5.2左倾红黑树插入

插入只需遵循如下规则即可得到完美的左倾红黑树

1. 插入的节点一定是红的
2. 如果在同一条线上有三个节点都是红的,则将最上面这个节点右旋
3. 如果有一个节点同时连接两个红节点,则将这两个红节点变为黑,此节点变为红(反转)
4. 如果有一个红节点在黑节点右端,则将黑节点左旋,并将两个节点颜色互换

### 5.3左倾红黑树的删除

遵循如下规则

1. 叶子节点直接删除
2. 删除节点有左子节点,将子节点上提,然后根据插入的规则去判断修改
3. 删除节点有右节点,直接上提
